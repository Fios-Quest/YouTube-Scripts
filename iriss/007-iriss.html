<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Documentation - IRISS Scripts</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon-de23e50b.svg">
        <link rel="shortcut icon" href="../favicon-8114d1fc.png">
        <link rel="stylesheet" href="../css/variables-8adf115d.css">
        <link rel="stylesheet" href="../css/general-2459343d.css">
        <link rel="stylesheet" href="../css/chrome-ae938929.css">
        <link rel="stylesheet" href="../css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="../highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="../tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="../ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex-0cc144a0.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc-cc4b049f.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>‚Üê</kbd> or <kbd>‚Üí</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">IRISS Scripts</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h1 id="documentation"><a class="header" href="#documentation">Documentation</a></h1>
<p>Documentation. Is. Awesome‚Ä¶ in Rust.</p>
<p>Ok, good documentation is awesome all the time but Rust provides tools that make documenting your project a truly magical experience.</p>
<p>This series has a free accompanying book, in which you can find all the details for this tutorial, check the description below.</p>
<p>My name is Daniel, welcome to IRISS.</p>
<h2 id="intro"><a class="header" href="#intro">Intro</a></h2>
<p>Documentation is important.</p>
<p>You‚Äôll hear a lot of things in Software like ‚Äúthe code should document itself‚Äù and ‚Äúthe tests should document the code‚Äù, and this is all true, but these aren‚Äôt <em>substitutes</em> for actual documentation.</p>
<p>Self explaining code is incredibly important when you work in a code base so that you can easily understand it and maintain it.</p>
<p>And, as we spoke about in the last video, tests are important to show our expectations of what the code will do when used.</p>
<hr>
<p>But code and tests are not there primarily to teach someone how to use the code.</p>
<p>They can do that, but its secondary, meaning that someone looking at them for the purpose of learning how to consume the code, is having to deal with a lot of information they don‚Äôt need.</p>
<p>As software engineers, a huge part of our role is communication, and good documentation conveys to others, how to use our work as quickly, and as painlessly as possible.</p>
<p>Rust understands this and provides a full suite of tools that make producing the precious resource that is good documentation, not just trivial, but also fun!</p>
<h2 id="libraries"><a class="header" href="#libraries">Libraries</a></h2>
<p>In order to show the value of documentation, we‚Äôre going to create our first Rust library.</p>
<p>Up to now, we‚Äôve been building binaries.</p>
<p><code>rustc</code> compiles <code>main.rs</code>, and any other Rust code that it uses, into an executable, but our projects can link to, and use functionality from, libraries.</p>
<p>This is particularly helpful when sharing and reusing code.</p>
<p>We‚Äôll be talking much more about how we share code with each other when we cover the Rust ecosystem, but for now, we can leverage the power of libraries for code reuse within the same project.</p>
<p>Let‚Äôs try it out.</p>
<hr>
<p>First, lets make a normal program, remember you can do this with something like: <code>cargo new iriss-documentation</code></p>
<p>In <code>main.rs</code>, we‚Äôll make a single add function and our main function will just check it works.</p>
<p>We can run this and, if it works, we see no output!</p>
<p>Next, lets migrate the add function to a library.</p>
<hr>
<p>Create a new file called <code>lib.rs</code>.</p>
<p>In the same way that <code>main.rs</code> is the entry to our binary, <code>lib.rs</code> is the entry to our library.</p>
<p>Our library acts like any other module, and the module is named the same thing as our project.</p>
<p>Anything public in <code>lib.rs</code> will be available to anyone using the library.</p>
<p>We‚Äôll move our add function to the <code>lib.rs</code> and make it public so that we can access it from <code>main.rs</code>:</p>
<p>We can now use this function in our main function via the project module (eg, <code>iriss_documentation</code>).</p>
<hr>
<p>Note that although our project name  is ‚Äúiriss hyphen documentation‚Äù, hyphens can‚Äôt be used in module names, so we get ‚Äúiriss underscore documentation‚Äù.</p>
<p>If we run our program right now, you can see that it still works but‚Ä¶ we‚Äôre not really taking advantage of the library, what‚Äôs the difference between this and what we had before?</p>
<hr>
<p>The main way you‚Äôre likely to share code is through Rusts package management system called Crates.</p>
<p>Were we to publish this project right now then theoretically other people could use our <code>add()</code> function, pointless as it may be.</p>
<p>But, we aren‚Äôt going to cover Crates until much later in the series, after we‚Äôve got the basics of the language covered.</p>
<p>That doesn‚Äôt mean this technique isn‚Äôt useful though.</p>
<p>To show how it can be useful, lets make another change to our project.</p>
<hr>
<p>Now that we‚Äôve got our <code>lib.rs</code>, lets move <code>main.rs</code> to a new folder called <code>bin</code>.</p>
<p>The program still runs if you use <code>cargo run</code> but if you look closely there is a difference.</p>
<p>In the last line, you‚Äôll see the name of the binary has changed from <code>iriss-documentation.exe</code> to <code>main.exe</code>.</p>
<p>This is because when the project was a single binary file, the executable was simply named after the project.</p>
<p>By using the <code>bin</code> directory, we‚Äôre telling Rust we expect to produce multiple binaries from this project, so now it takes the name from the file name instead of the project.</p>
<p>To fix this, rename <code>main.rs</code> to <code>iriss-documentation.rs</code> and cargo will go back to creating <code>iriss-documentation.exe</code>.</p>
<p>You can now create more binaries in this directory called different things and all of them will have access to the library we‚Äôve created!</p>
<p>Let‚Äôs quickly try this out with a new bin file called <code>five.rs</code>, we‚Äôll simply print the output from adding 2 and 3.</p>
<p>Now we have more than one binary, when we use cargo run, we have to specify the binary file to use, in this case <code>cargo run --bin five</code></p>
<h2 id="rustdoc"><a class="header" href="#rustdoc">rustdoc</a></h2>
<p>The Rust toolset includes a program called <code>rustdoc</code> which we can run via Cargo using <code>cargo doc</code>.</p>
<p>It builds and combines the documentation, not only from your code, but from any libraries and crates that you‚Äôre using.</p>
<p>Let‚Äôs jump in and try it out with our code‚Ä¶</p>
<hr>
<p>when we run <code>cargo doc --open</code> it will build the documentation and then open it in our browser.</p>
<p>As you can see, without us doing anything rustdoc has figured out about our add function.</p>
<p>If you click the <code>add</code> function, it‚Äôll take you to the documentation page for that function.</p>
<p>Rustdoc has already worked out the header for the function, but that‚Äôs all the information there is for now.</p>
<p>So how do we actually give the consumers of our library the information they need?</p>
<p>Comments! ‚Ä¶ kinda.</p>
<h2 id="doc-comments"><a class="header" href="#doc-comments">Doc Comments</a></h2>
<p>Comments are used to communicate information to anyone reading the source code, but are completely ignored by the compiler.</p>
<p>We usually talk about two styles of comments:</p>
<p>Line comments: starting at <code>//</code> and ending at the end of the line</p>
<p>Block comments: starting at <code>/*</code> and continuing until <code>*/</code></p>
<hr>
<p>Many languages like Java, JavaScript, PHP, Go, Elixir and many, many more, also support a special type of comment called a Doc Comment.</p>
<p>Like comments, these are used to convey information about nearby code, and are ignored by the compiler.</p>
<p>However, you can use documentation tooling to read them and produce the documentation for you.</p>
<p>Rust takes this idea and turbocharges it‚Ä¶ but we‚Äôll get to that.</p>
<p>For now, there are two subtypes of Doc Comments in Rust:</p>
<p>Outer Doc Comments and Inner Doc Comments</p>
<p>It is possible to create these comments as either line comments or block comments <em>however</em>, the convention is to always use line comments, even if the comment spans many lines.</p>
<p>The reason for this appears to be ambiguity in terminating block comments with <code>*/</code> enhanced by a desire for consistency.</p>
<p>Don‚Äôt worry though, your IDE should help you deal with the line comments, and if you use a screen reader it should manage just fine too.</p>
<p>Outer Doc Comments are placed before the thing that‚Äôs being documented and use three slashes for each line of the comment, and we‚Äôll use them for most things like modules, type definitions, traits and functions‚Ä¶ like our <code>add()</code> function.</p>
<hr>
<p>Lets add a little description, re-run <code>cargo doc</code> and refresh the page in our browser, and our <code>add</code> function now has a little explanation.</p>
<p>That‚Äôs neat, but we could have worked that out from the name.</p>
<p>Rust documentation uses markdown, which means we can use formatting and code snippets, as well as consecutive lines being treated as a single paragraph.</p>
<p>Let‚Äôs add some more detail and explain how to use the function using the same technique we learned in the last chapter, assertions.</p>
<p>Doing it this way may seem odd, but all will be explained in a moment.</p>
<p>Rebuilding our documentation now gives us the code sample too, isn‚Äôt that cute!</p>
<p>What‚Äôs also cool, is that if we go back to the top level of our library where our <code>add</code> function was listed, you can see that <code>add</code> now has a nice little summary, it‚Äôs the first line of our documentation.</p>
<p>This is worth bearing in mind as you write your documentation; try to keep this line terse but descriptive.</p>
<hr>
<p>Before we move on, we should also provide some documentation for our library.</p>
<p>We can‚Äôt put Outer Doc Comments before the library because the library <em>is</em> the file.</p>
<p>Instead, we use Inner Doc Comments, which are prefixed with <code>//!</code>.</p>
<p>We do this at the top of the file.</p>
<p>Let‚Äôs just put some random info in for now to show off some other features.</p>
<p>And all of this will render nicely into our documentation.</p>
<p>It‚Äôs worth pointing out that you <em>can</em> use Inner Doc Comments for all sorts of things‚Ä¶ but you shouldn‚Äôt.</p>
<p>Again, the convention is to only use Inner Doc Comments for files, whether that‚Äôs your root library file, or module files like <code>my_module/mod.rs</code>, or <code>./my_module.rs</code>.</p>
<h2 id="doc-tests"><a class="header" href="#doc-tests">Doc-Tests</a></h2>
<p>Some people say tests should be the documentation, but here we say the documentation should be the tests!</p>
<p>Well, ok, not <em>the</em> tests, you absolutely should still write your unit tests, etc. üòÖ</p>
<p>But without doing anything else to our project, lets try running <code>cargo test</code>.</p>
<p>There‚Äôs a few things to notice here.</p>
<p>First, we seem to have four suites of tests.</p>
<p>Second, we have two passing tests‚Ä¶ but we didn‚Äôt write any tests, did we?</p>
<p>The order of test suites, and individual tests you see may differ from this, but you should have one test suite for our library, two for our binaries, and one for Doc-tests.</p>
<p>The first three have no tests, but Doc-tests have two tests.</p>
<p>What‚Äôs happened here is that <code>cargo test</code> is treating any code samples as tests (though we can ask it not to on a case by case basis).</p>
<p>Let‚Äôs quickly add a test to <code>lib.rs</code> to look more closely at the difference.</p>
<p>Now when we run again we get some interesting comparison.</p>
<p>In the unit test, the test name is the fully qualified path to the test function: <code>test::test_add</code>.</p>
<p>In the doc tests, it‚Äôs the file, the name of the thing being documented (unless it <em>is</em> the file) and the line of the start of the code block.</p>
<p>This makes them slightly less useful <em>as</em> tests, so why do we do it?</p>
<hr>
<p>Well, the main reason we end up with bad documentation, and the reason why people so often don‚Äôt bother writing it to start with, is that it needs to be maintained.</p>
<p>One of the worst things we can do in documentation is tell someone they can achieve an outcome in a particular way, then later change the code, and not the documentation, so that it no longer works as expected.</p>
<p>Writing our documentation examples with assertions ensures that our documentation is correct, and keeping our documentation right next to the thing being documented makes it trivial to update.</p>
<p>Rust guarantees that if you said the code works in a particular way, so long as you also wrote an example with assertions that demonstrates that, then the documentation is correct!</p>
<p>Why don‚Äôt we do this in every language!</p>
<h2 id="sharing-documentation"><a class="header" href="#sharing-documentation">Sharing Documentation</a></h2>
<p>To paraphrase Dr Strangelove: Of course, the whole point of <strong>documentation</strong> is lost, if you keep it a secret!</p>
<p>How do we tell the world?</p>
<p>There‚Äôs two ways documentation gets shared and neither of them require any work on your behalf.</p>
<p>We‚Äôll go into this further when we talk about the Rust ecosystem, however when you‚Äôre ready to share your code, we use cargo to ‚Äúpublish‚Äù the code to crates.io.</p>
<p>When someone downloads your code from there, they get the source code which includes your documentation.</p>
<p>This means when they build their documentation, they can also build your documentation.</p>
<p>The second way our documentation is shared is that when we publish to crates.io, our documentation is compiled and uploaded to another service, docs.rs.</p>
<p>On this service you can find every version of API documentation for every crate (library) ever published!</p>
<h2 id="summary"><a class="header" href="#summary">Summary</a></h2>
<p>So Rust documentation has some really compelling things going on:</p>
<ol>
<li>
<p>Documentation tooling comes with the rust tool suite</p>
</li>
<li>
<p>Documentation is written with code, right next to the thing being documented, not separately from it, making it trivial to maintain</p>
</li>
<li>
<p>Code examples are run with tests, meaning it‚Äôs very hard to produce documentation that‚Äôs wrong</p>
</li>
</ol>
<p>Furthermore, because the prescribed method of writing documentation is so good, everyone ends up using the same tools and the same conventions.</p>
<p>This means Rust documentation will always feel somewhat familiar, significantly reducing the burden of learning.</p>
<p>It‚Äôs one of the many examples of how the Rust community feeds into itself, helping us all be better software engineers.</p>
<h2 id="homework"><a class="header" href="#homework">Homework</a></h2>
<p>Last time I asked you to do fours things, one at a time, starting with the test and then writing the implementation.</p>
<p>I mucked up, and all I can say is I‚Äôm sorry.</p>
<p>Literally the second requirement was far harder than I expected. I‚Äôve taken it out of the book, and mentioned it in the erratum of the last video.</p>
<p>However‚Ä¶ let‚Äôs do this.</p>
<p>I‚Äôm going to move fast so pause the video if you need a closer look at something.</p>
<p>First thing we need to do is create a dummy function and use the todo macro so that it panics.</p>
<p>We then create our first test.</p>
<p>Our first requirement doesn‚Äôt tell us too much, so we‚Äôll keep it simple; all lowercase, no punctuation.</p>
<p>When we run the tests they obviously fail.</p>
<p>Lets implement the code.</p>
<p>I‚Äôm going to use our split_around_many function.</p>
<p>If you used the built-in split function instead, well done, bonus points to you!</p>
<p>It‚Äôs actually more efficient that way, and you can in fact reduce the memory allocations down to just one.</p>
<p>For the purposes of demonstration, I decided to go for simplicity (boy that‚Äôs going to look silly in a minute).</p>
<p>I made <code>words</code> mutable so that I could call <code>reverse</code> on it.</p>
<p>This reverses the vector in place rather than returning a new vector.</p>
<p>Finally, we join the vector of strings together with spaces, and return it inside an Ok.</p>
<p>Running the tests show this technique works.</p>
<p>The next requirement was to capitalise the first character if the first character was previously capitalised.</p>
<p>Our initial test already checks the negative of this, so we only need to check that when there is a capital its maintained.</p>
<p>When we run, as expected, the tests fail.</p>
<p>Ok, again, I‚Äôm really sorry about this next bit, here we go.</p>
<p>First we have to detect if the first character is uppercase.</p>
<p>We‚Äôll use the chars method again to get an iterator, we‚Äôll take a single character from it and check that its uppercase.</p>
<p>This on its own would return true if the string was empty so, even though it doesn‚Äôt matter in our use-case, lets also check the string isn‚Äôt empty so the variable name is accurate.</p>
<p>Finally, after we‚Äôve joined the word together, if the first letter was a capital we‚Äôll get the first character with get_mut and a range that represents a single byte.</p>
<p>Unlike how we used ranges in our old split function, get_mut is safe it will not split characters, instead it returns an option.</p>
<p>If the first character is a single byte we get a mutable slice reference to that character in the string, we can now make it uppercase.</p>
<p>Running the test shows us that worked.</p>
<p>However, we‚Äôve now dipped into using iterators and sub slices of the final string, now I want to know if this works on an empty string.</p>
<p>Don‚Äôt worry if you didn‚Äôt do this, but I decided to add a null test, one that shouldn‚Äôt change anything.</p>
<p>Even though we only just added this test, we can see it already passes, phew!</p>
<p>Next lets look at trimming the string.</p>
<p>In the requirements I did say ‚Äúany whitespace‚Äù so lets test with a space on one end and a tab on the other.</p>
<p>When we run the test, we get our expected fail.</p>
<p>This one‚Äôs easy to fix, string slices have a trim function that returns a subslice inside the string that doesn‚Äôt include any outer whitespace.</p>
<p>We can shadow the input variable which effectively just replaces it for the rest of the function.</p>
<p>That was all we needed to do (see this is the level of effort I‚Äôd anticipated for the homework), so now our tests pass again.</p>
<p>The final requirement was to return an error if there was more than one sentence.</p>
<p>We haven‚Äôt dealt with punctuation yet so let‚Äôs create an assertion that an ending dot is fine, and a second assertion that one in the middle of a sentence causes an error</p>
<p>When we run the tests now, its worth noting that the first assertion already passes and the test dies on the second!</p>
<p>I actually wanted the first assertion to make sure I don‚Äôt <em>break</em> that functionality as I fix the second assertion.</p>
<p>To do this, I‚Äôm going to go through the words vector and take all but the last element. If any of these words end in a dot, then we can assume that‚Äôs the end of a sentence.</p>
<p>If we find that we‚Äôll return an Error containing the unit type.</p>
<p>Were we doing this properly, of course we‚Äôd use proper errors‚Ä¶ but proper errors are for another time üòâ</p>
<hr>
<p>This time the homework is much more chill üòÖ</p>
<p>I‚Äôd like you to create a library that contains our three split functions from the last few videos, check the book for sample code to copy if you need to.</p>
<p>You can make a library directly with no executable with <code>cargo new --lib</code> and whatever you want to call it.</p>
<p>This saves you moving things around too much.</p>
<p>Write documentation for the functions that explains how they work with code samples and assertions.</p>
<p>If you use the <code>split_around_many_recurse</code> function, remember that it shouldn‚Äôt be public, so you won‚Äôt see it in your library documentation.</p>
<p>And that‚Äôs it!</p>
<p>I don‚Äôt think we‚Äôll even need to go over this one in the next video, it‚Äôs more for you to practice.</p>
<h2 id="next-time"><a class="header" href="#next-time">Next Time</a></h2>
<p>Next time we‚Äôre going to look at two more tools that come with the Rust tool suite that help us write consistent and high quality Rust code; Rust format and Clippy.</p>
<p>I think these tools are really going to surprise and delight you, so if you‚Äôre enjoying this series, don‚Äôt forget to like and subscribe.</p>
<p>I also have some channel news coming up that won‚Äôt be part of the IRISS series, so keep an eye out for that.</p>
<p>And I‚Äôll see you, next time.</p>
<h2 id="outro"><a class="header" href="#outro">Outro</a></h2>
<p>The whole point of documentation is lost IF YOU KEEP IT A SECRET, WHY DIDN‚ÄôT YOU TELL THE WORLD EH?</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../iriss/006-iriss.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="../iriss/008-iriss.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../iriss/006-iriss.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="../iriss/008-iriss.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr-ef4e11c1.min.js"></script>
        <script src="../mark-09e88c2c.min.js"></script>
        <script src="../searcher-c2a407aa.js"></script>

        <script src="../clipboard-1626706a.min.js"></script>
        <script src="../highlight-abc7f01d.js"></script>
        <script src="../book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
