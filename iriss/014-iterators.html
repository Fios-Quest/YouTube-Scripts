<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Iterators - IRISS Scripts</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon-de23e50b.svg">
        <link rel="shortcut icon" href="../favicon-8114d1fc.png">
        <link rel="stylesheet" href="../css/variables-8adf115d.css">
        <link rel="stylesheet" href="../css/general-2459343d.css">
        <link rel="stylesheet" href="../css/chrome-ae938929.css">
        <link rel="stylesheet" href="../css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="../highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="../tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="../ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex-cc033b00.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc-cc4b049f.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>â†</kbd> or <kbd>â†’</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">IRISS Scripts</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h1 id="iterators"><a class="header" href="#iterators">Iterators</a></h1>
<p>Iâ€™ve been foreshadowing it for a while, but today we finally cover Iterators!</p>
<p>Iterators are a way to produce, and perform operations on, a sequence of values.</p>
<p>We often use them with collections (which we covered in our last video) so that we can perform the same operation on
each item in a collection, or reduce a collection to a single value.</p>
<p>Theyâ€™re also often used implicitly in some forms of loop.</p>
<p>As ever, this series is accompanied by a free book, check the description for a link straight to this chapter.</p>
<p>My name is Daniel, welcome to iris.</p>
<h2 id="the-iterator-trait"><a class="header" href="#the-iterator-trait">The Iterator Trait</a></h2>
<p>The Iterator trait can be applied to any type and has a single required method:</p>
<p><img src="014-iterators/iter-rust-doc.png" alt="iter-rust-doc.png"></p>
<p>ğŸ“• <code>.next()</code> returns an <code>Option</code> telling the caller there either is another item (Some), or there isnâ€™t (None).</p>
<p>ğŸ“• Iterator also has 75 provided methods, which I think goes to show how incredibly versatile this trait is.</p>
<p>ğŸ“• Weâ€™ll be talking about some of these methods, but itâ€™s well worth checking out the documentation to see what else is
possible.</p>
<p>While youâ€™ll usually get iterators from things like collections, itâ€™s possible to â€œIterateâ€ through anything.</p>
<p>To show the power of Iterators, weâ€™re going to start by building an Iterator from scratch, one that produces the
Fibonacci sequence.</p>
<p>The Fibonacci sequence is a sequence of numbers where each number is the sum of the previous two.</p>
<p>Depending on whom you ask, the sequence either starts, <code>1, 2</code>, <code>1, 1</code>, or <code>0, 1</code>.</p>
<p>Purists will say itâ€™s the former (as â€œLeonardo Bonacciâ€ intended), software engineers usually use the latterâ€¦ Iâ€™m
sticking mine in the middle, but it really doesnâ€™t matter.</p>
<p>ğŸ¦€ Anyway, letâ€™s start by making a Struct to store the state of the Iterator.</p>
<p><img src="014-iterators/fib-base.png" alt="fib-base.png"></p>
<p>ğŸ¦€ Weâ€™ll need to know the previous number and the next number, and to keep it simple weâ€™ll use a <code>u8</code> so weâ€™ll only get
numbers between zero and two-five-five.</p>
<p>ğŸ¦€ Iâ€™ve chosen to make next an option for reasons youâ€™ll see in a moment</p>
<p>ğŸ¦€ Letâ€™s make a constructor so that the Iterator always starts in a valid state.</p>
<p>ğŸ¦€ Moving on to implementing Iterator itself.</p>
<p><img src="014-iterators/fib-impl-iterator.png" alt="fib-impl-iterator.png"></p>
<p>ğŸ¦€ The trait has an associated type <code>Item</code> that describes the type returned by each call of <code>.next()</code> on the iterator.</p>
<p>ğŸ¦€ Itâ€™s an associated type rather than a generic type as it needs to be referenced a <em>lot</em> but, itâ€™s type is dictated by
the process used to create the Iterator, so it isnâ€™t generic.</p>
<p>ğŸ¦€ To implement the <code>next</code> method, weâ€™ll temporarily store the current value of the value <code>next</code>.</p>
<p>ğŸ¦€ Because <code>self.next</code> is an Option, and the <code>next</code> method returns an Option, we can use the question mark operator
to either unwrap a <code>Some</code> variant, or immediate return a <code>None</code> variant depending on whatâ€™s in there.</p>
<p>ğŸ¦€ If there is a <code>None</code> at this point, then weâ€™ve reached the end of our sequence.</p>
<p>ğŸ¦€ Next weâ€™ll update our internal state, our new next is the current value plus the previous, and our previous becomes
the old current.</p>
<p>ğŸ¦€ By using <code>checked_add</code> here we get an <code>Option</code> that is <code>None</code> if the result is out of bounds.</p>
<p>ğŸ¦€ Finally, we return the stored â€œcurrentâ€ value, though weâ€™ll have to re-wrap it in an Option after unwrapping it
earlier.</p>
<p>ğŸ¦€ So now we have our iterator type!</p>
<p><img src="014-iterators/fib-next-next-next.png" alt="fib-next-next-next.png"></p>
<p>ğŸ¦€ We can now get each item off the iterator one at a time by calling the next function:</p>
<p>ğŸ¦€ You can see that each item in the sequence is wrapped in an <code>Option</code>.</p>
<p>ğŸ¦€ When an Iterator has no more items to provide, it will produce a <code>None</code>.</p>
<p>ğŸ¦€ The final number this Iterator will produce is <code>233</code>, after which we would overflow the <code>u8</code> weâ€™ve used.</p>
<p>ğŸ¦€ Just calling <code>.next()</code> is pretty boring, no one wants to iterate through things by hand.</p>
<p>ğŸ¦€ What if we want to print out all the Fibonacci values that fit inside a <code>u8</code>?</p>
<p><img src="014-iterators/fib-for-in.png" alt="fib-for-in.png"></p>
<p>ğŸ¦€ You can give an Iterator to a <code>for ... in ...</code> loop, and it will automatically unwrap the <code>Option</code> for you.</p>
<p>ğŸ¦€ This code will print out each number on a new line</p>
<p>ğŸ¦€ Once the loop hits a <code>None</code> the loop ends.</p>
<p>Thatâ€™s cool, but on its own, itâ€™s still not very interesting.</p>
<p>Iterators are designed to be chained.</p>
<p>Those 75 provided methods I mentioned earlier allow you to do some exceptional tricks.</p>
<p>ğŸ¦€ For example, a list of Fibonacci numbers might be more useful if we knew what number in the sequence weâ€™re on.</p>
<p><img src="014-iterators/fib-for-in-enumerate.png" alt="fib-for-in-enumerate.png"></p>
<p>ğŸ¦€ We can chain a method called <code>.enumerate</code> which will take the old iterator and give us a new one where each <code>next</code> now
returns a tuple of <code>(usize, T)</code> where the <code>T</code> is the original item and the <code>usize</code> is the position.</p>
<p>ğŸ¦€ Whatâ€™s brilliant about this though is that when I say it â€œtakes the old iteratorâ€, it doesnâ€™t try to process every
item in the iterator (a process in Rust we refer to as â€œconsumingâ€ the iterator), it merely takes ownership of it.</p>
<p>ğŸ¦€ When we call <code>.next()</code> on the iterator returned by <code>.enumerate()</code>, <em>it</em> calls next on the iterator being enumerated.</p>
<p>Rust iterators are â€œlazyâ€ meaning that they try to avoid doing any unnecessary work.</p>
<h2 id="getting-iterators"><a class="header" href="#getting-iterators">Getting Iterators</a></h2>
<p>Having built our own, hopefully you now have a <em>vague</em> understanding of how Iterators work, but usually youâ€™ll get an
Iterator from a collection.</p>
<p>As with most things in Rust, Iterators (or specifically, the items being iterated) can be thought of in three groups.</p>
<p>All the collections we discussed in the last video can give you an iterator in any of the following forms.</p>
<p>Firstly, referenced data</p>
<p>Often we donâ€™t need to <em>own</em> the data weâ€™re iterating over, it can be enough to just read it.</p>
<p>All built in collections have a method called <code>.iter()</code> which returns an Iterator type where the items are references to
the data held in the collection.</p>
<p>ğŸ¦€ Here we have two variables that <em>own</em> the Strings inside them.</p>
<p><img src="014-iterators/iter-iter.png" alt="iter-iter.png"></p>
<p>ğŸ¦€ We move ownership of the variables inside the Vector</p>
<p>ğŸ¦€ And then we create an Iterator with the Iter method which will iterate over references that point to the data now
owned by the vector</p>
<p>ğŸ¦€ So calling <code>.next()</code> on the iterator gives us a reference, not the original data.</p>
<p>ğŸ¦€ This means the vector still owns the data</p>
<p>ğŸ¦€ One thing to bear in mind is that if the collection contains references, then <code>.iter()</code> will give you an Iterator that
produces references to references.</p>
<p><img src="014-iterators/iter-iter-ref.png" alt="iter-iter-ref.png"></p>
<p>ğŸ¦€ So if we change the original vector to reference the Strings rather than take ownership</p>
<p>ğŸ¦€ When we call <code>.next()</code> we get a reference to a reference</p>
<p>Sometimes, you need to edit things while iterating through them; our second option lets us do that.</p>
<p><code>.iter_mut()</code> can give you a mutable iterator, and all of Rustâ€™s built-in collections support it (so long as the
underlying collection is mutable).</p>
<p>ğŸ¦€ In this example, weâ€™ll use a Vector of numbers, as I mentioned, we need this Vector to be mutable.</p>
<p><img src="014-iterators/iter-iter-mut.png" alt="iter-iter-mut.png"></p>
<p>ğŸ¦€ Weâ€™ll use a for â€¦ in â€¦ loop like earlier, using <code>.iter_mut()</code>.</p>
<p>ğŸ¦€ So here, n, is a mutable reference to the value stored in the vector.</p>
<p>ğŸ¦€ By dereferencing n, we can add 10 to the original value.</p>
<p>ğŸ¦€ If we check the original Vector now, we can see all values have increased by 10.</p>
<p>Finally, you may want to take ownership of the underlying data, and thatâ€™s where our third option comes in.</p>
<p><code>.into_iter()</code> takes ownership of the collection and the data inside (meaning that the collection will no longer be available).</p>
<p>One place this is particularly useful is when converting between types, either converting the items themselves or for the entire collection.</p>
<p>There is a trait called <code>FromIterator&lt;A&gt;</code> that is implemented for types that can consume an iterator and populate themselves.</p>
<p>This is almost always used with the <code>.collect()</code> iterator method, though you need to be explicit about what youâ€™re collecting into.</p>
<p>You can do this either by typing the variable youâ€™re collecting into, or by using the turbofish operator that allows you to be explicit about the concrete types to fill in generics.</p>
<p>ğŸ¦€ In this example, weâ€™ll go back to our Strings as they arenâ€™t <code>Copy</code>.</p>
<p><img src="014-iterators/iter-into-iter.png" alt="iter-into-iter.png"></p>
<p>ğŸ¦€ Instead of using a Vector this time, weâ€™ll use a LinkedList, and push our strings onto the end.</p>
<p>ğŸ¦€ This moves ownership from the variables into the LinkedList.</p>
<p>ğŸ¦€ To turn the LinkedList into a Vector, weâ€™ll first convert the LinkedList into an Iterator that owns the original data with <code>.into_iter()</code>.</p>
<p>ğŸ¦€ Then weâ€™ll â€œcollectâ€ that Iterator into a Vector.</p>
<p>ğŸ¦€ Because <code>v</code> is explicitly typed, Rust knows to use the <code>FromIterator</code> implementation of <code>Vector</code> when calling <code>.collect()</code>.</p>
<p>Honestly, even after years of using Rust, this backwards way of writing code that makes it super modular still makes me think: â€œwowâ€</p>
<p>ğŸ¦€ In this example, weâ€™ve created a variable <em>basically</em> just to provide type information.</p>
<p><img src="014-iterators/iter-into-iter-turbofish.png" alt="iter-into-iter-turbofish.png"></p>
<p>ğŸ¦€ You can skip this step using the turbofish operator which looks like this.</p>
<h2 id="copying-and-cloning-items"><a class="header" href="#copying-and-cloning-items">Copying and cloning Items</a></h2>
<p>Using what weâ€™ve learned above, what if we want to use owned data, but we need to keep the original collection, so <code>.into_iter()</code> is out of the question?</p>
<p>There are two methods on <code>Iterator</code> for this purpose: <code>.copied()</code> and <code>.cloned()</code>.</p>
<p>Each one takes the old iterator and returns a new iterator that applies the appropriate action lazily as its called.</p>
<p><code>.copied()</code> only works on Iterators where the item is <code>Copy</code> and will take the iterator and return a new iterator which returns each Item copied.</p>
<p><img src="014-iterators/copied.png" alt="copied.png"></p>
<p><code>.cloned()</code> does the same for types that are <code>Clone</code>.</p>
<p><img src="014-iterators/cloned.png" alt="cloned.png"></p>
<h2 id="other-ways-to-get-iterators"><a class="header" href="#other-ways-to-get-iterators">Other Ways to get Iterators</a></h2>
<p>Beyond collections, there are other things that can be iterated through.</p>
<p>ğŸ¦€ Ranges <em>are</em> iterators, itâ€™s why you often see them used in for loops:</p>
<p><img src="014-iterators/other-iter-range.png" alt="other-iter-range.png"></p>
<p>ğŸ¦€ But they implement all the same methods so we can collect them like any other iterator.</p>
<p>ğŸ¦€ You can make an infinitely repeating iterator of anything so long as it implements <code>Clone</code>, using <code>std::iter::repeat</code>.</p>
<p><img src="014-iterators/other-iter-repeat.png" alt="other-iter-repeat.png"></p>
<p>ğŸ¦€ Now, because immutable references implement <code>Clone</code> we could use this function to repeat a reference to string slice like â€œhiâ€.</p>
<p>// FIXME</p>
<p>ğŸ¦€ Um, I said â€œhiâ€.</p>
<p>ğŸ¦€ Wait!</p>
<p>ğŸ¦€ It literally never ends, every time you call <code>.next()</code> it just clones a new value</p>
<p>ğŸ¦€ Ok enough of that.</p>
<p>ğŸ¦€ We can also repeat existing iterators infinitely using a method on the iterator called <code>.cycle()</code></p>
<p><img src="014-iterators/other-iter-cycle.png" alt="other-iter-cycle.png"></p>
<p>ğŸ¦€ Once the iterator has run out of items, instead of returning a <code>None</code>, it simply starts again.</p>
<p>You can also create iterators by combining other iterators with <code>.chain()</code>, although they have to be of the same type:</p>
<p><img src="014-iterators/other-iter-chain.png" alt="other-iter-chain.png"></p>
<p>Many other Types in Rust can also be broken down into Iterators.</p>
<p>The script for this video, for example, can be represented as one large <code>str</code>, which you can break the data down by <code>.lines()</code>, <code>.chars()</code> or <code>.bytes()</code> all of which produce iterators.</p>
<h2 id="cool-ways-to-use-iterators"><a class="header" href="#cool-ways-to-use-iterators">Cool ways to use Iterators</a></h2>
<h3 id="mathematics"><a class="header" href="#mathematics">Mathematics</a></h3>
<p>One common thing we might want to do is consume an iterator of numeric values and get some new value from it.</p>
<p>A quick warning though!</p>
<p>Unlike some other operations we might perform on iterators which add some step that <em>will</em> be performed when we call <code>.next</code>, methods that â€œconsumeâ€ the Iterator will actually try to process everything in the Iterator.</p>
<p>This means if you call them on an infinite iterator, like those created by <code>.repeat()</code> or <code>.cycle()</code>, your code will enter an infinite loop and never end.</p>
<p>However, when thatâ€™s not the case thereâ€™s some useful mechanisms we can use:</p>
<p>ğŸ¦€ For iterators of items that implement the <code>Sum</code> trait (for example numbers) the <code>.sum()</code> method will add all the items in the iterator together:</p>
<p><img src="014-iterators/maths-sum.png" alt="maths-sum.png"></p>
<p>ğŸ¦€ Youâ€™ll notice we have the turbofish operator again as we need to know what type to sum to</p>
<p>ğŸ¦€ For iterators of items that implement the <code>Product</code> trait (eg, again, numbers) the <code>.product()</code> method will multiply all the items in the iterator together:</p>
<p><img src="014-iterators/maths-product.png" alt="maths-product.png"></p>
<p>ğŸ¦€ Its worth noting that some surprising things implement <code>Sum</code> and <code>Product</code>, including blanket implementations for <code>Option&lt;T&gt;</code> and <code>Result&lt;T, E&gt;</code> where <code>T</code> already implements the trait.</p>
<p><img src="014-iterators/maths-sum-option.png" alt="maths-sum-option.png"></p>
<p>ğŸ¦€ When doing it this way, for some reason, the Option <em>needs</em> to be owned, so here weâ€™ve <code>.into_iter()</code>â€™d the collection, as we donâ€™t need to use the collection afterward.</p>
<p>ğŸ¦€ Or, if we do need to keep the collection, because i32 is Copy, we could chain <code>.iter()</code> with <code>.copied()</code></p>
<p><img src="014-iterators/maths-sum-option-copied.png" alt="maths-sum-option-copied.png"></p>
<p>ğŸ¦€ I want to add another quick warning here, <code>.sum()</code> and <code>.product()</code> use the basic <code>add</code> and <code>multiply</code> operators respectively.</p>
<p>ğŸ¦€ This can be problematic because thereâ€™s no check to see if the result still fits inside the numeric type.</p>
<p>ğŸ¦€ For example, this is fine</p>
<p><img src="014-iterators/maths-product-safe.png" alt="maths-product-safe.png"></p>
<p>// FIXME</p>
<p>ğŸ¦€ But this will panic</p>
<p><img src="014-iterators/maths-product-panic.png" alt="maths-product-panic.png"></p>
<p>ğŸ¦€ But you wonâ€™t know that until runtime.</p>
<p>ğŸ¦€ Usually this wonâ€™t be a problem as youâ€™ll likely be using number types with a lot of space, not <code>u8</code>s, but weâ€™ll touch on slower (but safer) ways to get around this later.</p>
<p>ğŸ¦€ Anyway, carrying on:</p>
<p>ğŸ¦€ For iterators of items that implement <code>Ord</code> you can use <code>.min()</code> and <code>.max()</code> to find the smallest and largest values respectively.</p>
<p><img src="014-iterators/maths-min-max.png" alt="maths-min-max.png"></p>
<p>ğŸ¦€ Chars are ordered by their numeric value so capitals come first, making â€œHâ€ the smallest value and â€œwâ€ the â€œlargestâ€ value</p>
<p>ğŸ¦€ If you just want to know how many items there are, you can use <code>.count()</code> which merely tells us how many items are in an iterator.</p>
<p><img src="014-iterators/maths-count.png" alt="maths-count.png"></p>
<p>ğŸ¦€ However, count consumes iterator, meaning you canâ€™t use the iterator after using count</p>
<p>ğŸ¦€ If the iterator implements <code>ExactSizeIterator</code> though, and many iterators do, then you can use <code>.len()</code> instead.</p>
<p><img src="014-iterators/maths-len.png" alt="maths-count.png"></p>
<p>ğŸ¦€ Not only does this not consume the iterator, itâ€™s almost always faster to get the same result:</p>
<h3 id="applying-a-process-over-each-item"><a class="header" href="#applying-a-process-over-each-item">Applying a Process over each item</a></h3>
<p>One of the most common uses for Iterators is to process a set of Items one at a time.</p>
<p>There are a number of methods on the Iterator trait (that themselves return new Iterators) that are really helpful for this.</p>
<p>In fact, itâ€™s common to chain multiple iterators together in this way.</p>
<p>Letâ€™s start with one of the simplest.</p>
<p>You can take an iterator and exclude Items based on the result of a predicate using <code>.filter()</code>.</p>
<p>ğŸ¦€ For example, we could take a range of numbers, and filter out all odd numbers like this:</p>
<p><img src="014-iterators/process-filter-range.png" alt="process-filter-range.png"></p>
<p>ğŸ¦€ If we were to look at the count of the iterators before and after the filter, youâ€™ll see theyâ€™ve changed!</p>
<p>ğŸ¦€ Now, I was going to point out that ideally we should use <code>.len()</code> but that <code>.filter()</code> can not return an <code>ExactSizeIterator</code>.</p>
<p><img src="014-iterators/process-filter-range-inclusive.png" alt="process-filter-range-inclusive.png"></p>
<p>ğŸ¦€ But, to my surprise, <code>ExactSizeIterator</code> isnâ€™t implemented for <code>RangeInclusive</code> eitherâ€¦ but it is for <code>Range</code>.</p>
<p>ğŸ¦€ So, hereâ€™s a quick edit to the code that does the same thing.</p>
<p>ğŸ¦€ Now we can use <code>.len()</code> on the range, much better</p>
<p>ğŸ¦€ I donâ€™t know why <code>RangeInclusive</code> isnâ€™t <code>ExactSizeIterator</code>, if you do, let me know in the comments, but I think itâ€™s a sign to prefer <code>Range</code> over <code>RangeInclusive</code>.</p>
<p>ğŸ¦€ Anyway, for the obvious reasons we donâ€™t know if an Item is included or not before an item is processed by the filter, so we donâ€™t get an <code>ExactSizeIterator</code> back from the <code>.filter()</code> method, so we have to count each item.</p>
<p>Another great way to process Iterators one Item at a time is to take that Item and transform it in some way.</p>
<p>We can pass a function into the <code>.map()</code> method that receives the item and returns a new value.</p>
<p>If that value is of a different type, the Iterator you get back will also be of that new type:</p>
<p>ğŸ¦€ If we start off with a Range like this, this is an Iterator where the Item is of type <code>i32</code>.</p>
<p><img src="014-iterators/process-map.png" alt="process-map.png"></p>
<p>ğŸ¦€ We can then use <code>.map()</code> to take the number and return the result of the format macro.</p>
<p>ğŸ¦€ And now we have an Iterator where the Item is of type <code>String</code>.</p>
<p>ğŸ¦€ Sometimes the process you apply to an item might itself result in an <code>Option</code>, and rather than having an iterator of <code>Options</code> you may want to discard <code>None</code>s and unwrap <code>Ok</code>s, this is where <code>.filter_map()</code> is really handy.</p>
<p><img src="014-iterators/process-filter-map.png" alt="process-filter-map.png"></p>
<p>ğŸ¦€ This range gives us every valid <code>u8</code> number in sequence from smallest, zero, to largest, two-five-five</p>
<p>ğŸ¦€ (Despite what we just discussed this time it has to be <code>RangeInclusive</code>).</p>
<p>ğŸ¦€ If we add 250 to each number, most of them will no longer fit inside a <code>u8</code>.</p>
<p>ğŸ¦€ The <code>.checked_add()</code> method found on most numeric types in Rust will return an Option, where the <code>None</code> variant represents an overflow.</p>
<p>ğŸ¦€ If we combine this with a <code>.filter_map()</code> all numbers that overflow will automatically be excluded (because of the <code>None</code>) and all numbers in the <code>Some</code> variant are automatically unwrapped</p>
<p>ğŸ¦€ That leaves us with these six numbers.</p>
<p>ğŸ¦€ This not only saves us from having to deal with doubly wrapped options from <code>next</code> (for example <code>Some(Some(255))</code>) but entirely removes the items from the iterator meaning anything else we chain doesnâ€™t have to deal with it either.</p>
<p>ğŸ¦€ By comparison, if we just used a map, weâ€™d have 256 Options, 250 of which are <code>None</code>.</p>
<p><img src="014-iterators/process-filter-map-count.png" alt="process-filter-map-count.png"></p>
<p>ğŸ¦€ Another way to reduce how many items we want to deal with in an iterator is by using <code>.take(n)</code> and <code>.skip(n)</code>.</p>
<p><img src="014-iterators/process-take-skip.png" alt="process-take-skip.png"></p>
<p>ğŸ¦€ We can end an iterator earlier by only taking a certain number of items from it with <code>.take(n)</code></p>
<p>ğŸ¦€ Or we can skip over a number of items with <code>.skip(n)</code> before resuming the iterator from that point.</p>
<p>ğŸ¦€ <code>.take()</code> can be particularly useful when working with infinite iterators</p>
<p><img src="014-iterators/process-repeat-take-cycle.png" alt="process-repeat-take-cycle.png"></p>
<p>ğŸ¦€ I want you to consider the output of the following program.</p>
<p>ğŸ¦€ Consider it!</p>
<p>ğŸ¦€ <em>cough cough</em></p>
<p>ğŸ¦€ An Iterator method we used earlier, <code>.enumerate()</code>, allows us to add an index to our Iterator by changing the type of the Item <code>T</code> to a tuple of <code>(usize, T)</code>.</p>
<p>ğŸ¦€ This can be really handy in combination with other iterators when the position in an iterator is important.</p>
<p>ğŸ¦€ Letâ€™s say we want to filter every other item out of a <code>Vec</code>.</p>
<p><img src="014-iterators/process-enumerate.png" alt="process-enumerate.png"></p>
<p>ğŸ¦€ We can do that by chaining together several of the Iterators weâ€™ve just learned.</p>
<p>ğŸ¦€ Weâ€™ll take ownership of the data because we donâ€™t need the original Vector after this.</p>
<p>ğŸ¦€ Weâ€™ll enumerate the iterator so we get the index from the point weâ€™re at in the iterator onwards (here weâ€™re at the start, but that might not always be the case)</p>
<p>ğŸ¦€ The index starts at zero, so by checking the modulo of the index, we can take every other item starting with the first.</p>
<p>ğŸ¦€ Filter doesnâ€™t change the data only decides if it should be kept or not, this means we can ignore the original data inside the predicate</p>
<p>ğŸ¦€ Since we no longer need the index after this, we can map the tuple and return just the data we care about</p>
<p>ğŸ¦€ Finally, weâ€™ll collect it and test the result</p>
<p>ğŸ¦€ Any time you see a <code>filter</code> and a <code>map</code> next to each other though, you might be able to abbreviate your code with <code>filter_map</code>.</p>
<p>ğŸ¦€ Booleans can be turned into <code>Option</code>s with <code>.then_some()</code>, so this works, butâ€¦</p>
<p><img src="014-iterators/process-enumerate-filtermap.png" alt="process-enumerate-filtermap.png"></p>
<p>ğŸ¦€ in my opinion, you should always go with the code thatâ€™s easiest to read, and its up to you to decide what that is</p>
<p>Finally, there are three more consuming methods I want to cover for processing data</p>
<p><code>.fold()</code> and <code>.reduce()</code> consume iterators and return a single value by modifying that value for each item in the Iterator.</p>
<p><code>.fold()</code> lets you specify the initial value for the returned value, but <code>.reduce()</code> uses the first item in the iterator as the initial value and continues processing from the next item.</p>
<p>Earlier I mentioned some risk with <code>.sum()</code> and <code>.product()</code> and promised a slower but safer way to do the same thing.</p>
<p>ğŸ¦€ So letâ€™s try doing that with <code>.fold()</code></p>
<p><img src="014-iterators/process-fold.png" alt="process-fold.png"></p>
<p>ğŸ¦€ it takes two parameters, the first being the initial value, and the second being a closure with two parameters</p>
<p>ğŸ¦€ Weâ€™ll use an Option with a 0 for the initial value, which is why we canâ€™t use <code>.reduce()</code> in this specific case.</p>
<p>ğŸ¦€ For the closure, I usually stick to calling the parameters <code>acc</code> and <code>cur</code> representing the â€œacc-umulatedâ€ value which starts as our initial value, and the â€œcur-rentâ€ value, which is the current Item in the iterator.</p>
<p>ğŸ¦€ This closure is called for every Item in the iterator and returns the <em>next</em> accumulated value.</p>
<p>ğŸ¦€ Weâ€™re simply going to add the values together, our accumulated value is an Option, and we only need to add if itâ€™s a <code>Some</code> variant</p>
<p>ğŸ¦€ We can use <code>.and_then()</code> to get inside the Option, and weâ€™ll use the same <code>checked_add</code> to increase the value</p>
<p>ğŸ¦€ This maps our Option to another Option that comes out of <code>checked_add</code> so we donâ€™t need to do anything else before returning from the closure</p>
<p>ğŸ¦€ That said, thereâ€™s actually a better way to provide this functionality.</p>
<p>ğŸ¦€ The way weâ€™ve built this, once we hit our first <code>None</code>, we <em>know</em> the answer is going to be <code>None</code> too, yet we keep processes items</p>
<p>ğŸ¦€ Thereâ€™s a method designed exactly for this, <code>.try_fold()</code></p>
<p><img src="014-iterators/process-try-fold.png" alt="process-try-fold.png"></p>
<p>ğŸ¦€ Not only will stop iterating on itâ€™s first <code>None</code>, potentially ending very early, but because it knows weâ€™re dealing with <code>Option</code>s will automatically unwrap our accumulated option for us, making the code much simpler!</p>
<p>ğŸ¦€ The last consumer method I wanted to talk about is <code>.for_each()</code>.</p>
<p>ğŸ¦€ It lets you do something with each item in the iterator without returning anything.</p>
<p>ğŸ¦€ The simplest example might be, if we went back to our Fibonacci sequence instead of printing the value in a loop, we can use <code>.for_each()</code> to print the value.</p>
<p><img src="014-iterators/process-try-fold.png" alt="process-try-fold.png"></p>
<p>ğŸ¦€ The lack of return value might <em>feel</em> like it rather limits the usefulness of this method.</p>
<p>ğŸ¦€ However, it can be useful when doing things like sending data somewhere else, for example, across threads, which weâ€™ll be looking at in the next video.</p>
<h2 id="more-iterator-traits"><a class="header" href="#more-iterator-traits">More Iterator Traits</a></h2>
<p>There are a few more traits you may want to be aware of when making your own iterators, or consuming others.</p>
<p><code>IntoIterator</code> can be implemented on any type that can be turned into. anâ€¦ <code>Iterator</code>.</p>
<p>Ah, I see what they did there.</p>
<p>One place you may find yourself using it is on newtypes, or types where the most important data inside is represented as some kind of collection.</p>
<p>ğŸ¦€ Letâ€™s say we have a newtype â€œAlbumsâ€, that contains a Vector of â€œAlbumâ€</p>
<p><img src="014-iterators/albums.png" alt="albums.png"></p>
<p>ğŸ¦€ In our domain logic, it might make sense that we can start a new collection of Albums and add an Album to it by buying it.</p>
<p>ğŸ¦€ So we can build an Albums struct like this</p>
<p><img src="014-iterators/albums-new.png" alt="albums-new.png"></p>
<p>ğŸ¦€ If we were to implement <code>IntoIterator</code> for <code>Albums</code> there are two important associated types that we need to specify.</p>
<p><img src="014-iterators/albums-into-iterator.png" alt="albums-into-iterator.png"></p>
<p>ğŸ¦€ <code>Item</code> is easy, thatâ€™ll be our <code>Album</code> type.</p>
<p>ğŸ¦€ <code>IntoIter</code> is the name of the type that <em>is</em> the Iterator.</p>
<p>ğŸ¦€ Remember back at the start, we created a Fibonacci Iterator.</p>
<p>ğŸ¦€ Our struct <code>Fibonacci</code> is the Iterator type.</p>
<p>ğŸ¦€ What the trait is actually asking us for here is the data type that will manage the iteration process for us.</p>
<p>ğŸ¦€ Weâ€™re using a Vec internally, and Vec has a generic Iterator struct it uses when you turn a Vec into an Iterator, so we can use that, filling in the Generic part with our Item type.</p>
<p>ğŸ¦€ All we need to do in our case then, is return the result of calling Vec <code>.into_iter()</code></p>
<p>ğŸ¦€ Once weâ€™ve done that, turning our Albums type into an Iterator of Album is trivial.</p>
<p><img src="014-iterators/albums-to-artists.png" alt="albums-to-artists.png"></p>
<p>ğŸ¦€ This code turns our Albums collection into a list of Artists</p>
<p>ğŸ¦€ But what if we want to go back to having our Albums type again.</p>
<p>ğŸ¦€ <code>FromIterator</code> allows you to turn an Iterator into another type, usually through the <code>.collect()</code> method on an <code>Iterator</code></p>
<p>ğŸ¦€ In our case, again, we could really just lean into the existing Vec typeâ€™s utilities,</p>
<p><img src="014-iterators/albums-from-iterator-manual.png" alt="albums-from-iterator-manual.png"></p>
<p>ğŸ¦€ But you could also rely on the structs own implementation to do the same thing by looping through the iterator.</p>
<p><img src="014-iterators/albums-from-iterator-vec.png" alt="albums-from-iterator-vec.png"></p>
<p>ğŸ¦€ Now we can create our Albums struct from any Iterator of Album</p>
<p><img src="014-iterators/albums-vec-to-albums-struct.png" alt="albums-vec-to-albums-struct.png"></p>
<p>Finally, the last two traits you should be aware of are <code>DoubleEndedIterator</code> and <code>ExactSizeIterator</code>.</p>
<p>We could implement these for our Album type, but weâ€™d really just be wrapping Vec, so Iâ€™ll give some more direct examples.</p>
<p>ğŸ¦€ Weâ€™ve spoken about <code>ExactSizeIterator</code>, it can tell you the size of the iterator <em>without</em> consuming it, using the <code>.len()</code> method</p>
<p><img src="014-iterators/other-traits.png" alt="other-traits.png"></p>
<p>ğŸ¦€ <code>DoubleEndedIterator</code> allows you to reverse the order of an Iterator with <code>.rev()</code>.</p>
<p>ğŸ¦€ The Iterators returned from all collections in the standard library are all, both of these</p>
<p>ğŸ¦€ To my surprise, even the <code>Iter</code> structs used for <code>LinkedList</code> and <code>BinaryHeap</code> are both <code>DoubleEndedIterator</code>, I didnâ€™t expect that.</p>
<p><img src="014-iterators/other-traits-ll.png" alt="other-traits-ll.png"></p>
<h2 id="next-time"><a class="header" href="#next-time">Next Time</a></h2>
<p>First, I want to say a huge thank-you to my Patreons, your support for the channel so early on really helps!</p>
<p>And if you enjoyed the video, donâ€™t forget to like and subscribe, youâ€™d be surprised how much of a positive impact that has for creators!</p>
<p>Weâ€™ve now covered all of what Iâ€™d describe as the core, synchronous language features (at leastâ€¦ I hope, let me know if you think Iâ€™ve missed something crucial).</p>
<p>Weâ€™re moving on to Threads in the next video, weâ€™ll discuss what they are, why youâ€™d use them, and some of the most important and useful tools to use when working with them.</p>
<p>With that, Iâ€™ll see you next time.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../iriss/013-collections.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="../iriss/015-threads.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../iriss/013-collections.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="../iriss/015-threads.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr-ef4e11c1.min.js"></script>
        <script src="../mark-09e88c2c.min.js"></script>
        <script src="../searcher-c2a407aa.js"></script>

        <script src="../clipboard-1626706a.min.js"></script>
        <script src="../highlight-abc7f01d.js"></script>
        <script src="../book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
