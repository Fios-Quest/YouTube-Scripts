<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Collections - IRISS Scripts</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon-de23e50b.svg">
        <link rel="shortcut icon" href="../favicon-8114d1fc.png">
        <link rel="stylesheet" href="../css/variables-8adf115d.css">
        <link rel="stylesheet" href="../css/general-2459343d.css">
        <link rel="stylesheet" href="../css/chrome-ae938929.css">
        <link rel="stylesheet" href="../css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="../highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="../tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="../ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex-0cc144a0.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc-cc4b049f.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>â†</kbd> or <kbd>â†’</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">IRISS Scripts</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h1 id="collections"><a class="header" href="#collections">Collections</a></h1>
<p>So far, weâ€™ve mostly been discussing types that store a single â€œblobâ€ of data</p>
<p>But, software engineers regularly need to think about working with multiple â€œblobsâ€ of data of the same type, this is where collections come in.</p>
<p>As ever, this series is accompanied by a free book, check the description for a link straight to this chapter.</p>
<p>My name is Daniel, welcome to iris.</p>
<h2 id="intro"><a class="header" href="#intro">Intro</a></h2>
<p>Two types youâ€™ll use a lot are <code>Vec</code> and <code>HashMap</code>, but thereâ€™s actually quite a lot of collections in the Rust standard library, each with their own special use cases.</p>
<p>Before we get to them though, weâ€™re going to start with the absolute basics.</p>
<h2 id="arrays"><a class="header" href="#arrays">Arrays</a></h2>
<p>Arrays areâ€¦ technically not collections. Or at least, they are quite different to the other collections in one key way.</p>
<p>Theyâ€™re <code>Sized</code>!</p>
<p>While other collections can have elements added to or removed from them, Arrays are always the same size.</p>
<p>This means that they can exist on the stack, which also means they can be <code>Copy</code> (so long as the type stored in the array is also <code>Copy</code>).</p>
<p>We can create arrays in two ways</p>
<p>ğŸ¦€ either by defining a list of expressions,</p>
<p>ğŸ¦€ or by using an expression and a length:</p>
<p><img src="013-collections/array-instantiation.png" alt="array-instantiation.png"></p>
<p>ğŸ¦€ If youâ€™ve used other languages, youâ€™re probably used to accessing the items in arrays and array like structures with square brackets and you can do that in Rustâ€¦</p>
<p><img src="013-collections/array-square.png" alt="array-square.png"></p>
<p>ğŸ¦€ but you have to be careful! This code will panic, can you see why?</p>
<p><img src="013-collections/array-square-panic.png" alt="array-square-panic.png"></p>
<p>ğŸ¦€ The final index used is out of bounds</p>
<p>ğŸ¦€ğŸ’ğŸ»â€â™‚ï¸ This example is a little contrived to demonstrate the problem, there are better ways to step through items in arrays</p>
<p><img src="013-collections/array-square-compile-fail.png" alt="array-square-compile-fail.png"></p>
<p>ğŸ¦€ğŸ’ğŸ»â€â™‚ï¸  That said, because Arrays are sized, Rust is smart enough to know if youâ€™ve hardcoded an index out of bounds, so this
wonâ€™t even compile!</p>
<p><img src="013-collections/array-square-compile-fail-message.png" alt="array-square-compile-fail-message.png"></p>
<p>ğŸ¦€ If youâ€™re not sure an index is definitely in bounds, a safer way to get the data there is to use, wellâ€¦ the get method which returns an option containing a reference to the data inside the array</p>
<p><img src="013-collections/array-get.png" alt="array-get.png"></p>
<p>ğŸ¦€ If the array is mutable, you can get a mutable reference to an entry in the array using <code>get_mut</code>.</p>
<p><img src="013-collections/array-get_mut.png" alt="array-get_mut.png"></p>
<p>ğŸ¦€ Note the use of if-let to unwrap the Option we get back from get_mut</p>
<p>ğŸ¦€ Also because get and get_mut actually return references, to change the value, we have to dereference first</p>
<p>ğŸ¦€ Finally, you can pass arrays into functions, and if the types in the array are copy, the array itself is also copy meaning you wonâ€™t lose ownership when you do this.</p>
<p>ğŸ¦€ Passing an array like this needs the type of the array to be defined including its size, so if the size is different, it wonâ€™t work.</p>
<p><img src="013-collections/array-fn.png" alt="array-fn.png"></p>
<p><img src="013-collections/array-fn-good.png" alt="array-fn-good.png"></p>
<p><img src="013-collections/array-fn-bad.png" alt="array-fn-bad.png"></p>
<p>ğŸ¦€ If you want to pass an arbitrarily sized array into a function, you canâ€¦ by using a slice.</p>
<h2 id="slices"><a class="header" href="#slices">Slices</a></h2>
<p>Obviously, passing exactly sized arrays around isnâ€™t particularly useful in most real world circumstances.</p>
<p>So the first dynamically sized collection we should talk about is the â€œsliceâ€.</p>
<p>You can think of a slice as a view or window into a series of contiguous data.</p>
<p>The fact that itâ€™s a view of some other type hopefully indicates to you that this is a reference type</p>
<p>ğŸ¦€ The simplest way to get a slice is to reference an array or any other compatible collection.</p>
<p><img src="013-collections/slice-reference.png" alt="slice-reference.png"></p>
<p>You can also get a sub slice of an array by using range notation, which weâ€™ve discussed before, but letâ€™s do a quick recap</p>
<p>This can include open ranges which are a bit more complicated.</p>
<p>The way to think about this is, where <code>X..Y</code>:</p>
<p>ğŸ¦€ if X and Y are both specified, the slice begins before the <code>X</code>th element and ends before the <code>Y</code>th element</p>
<p>ğŸ¦€ if Y is preceded by an equals sign, the slice ends after the <code>Y</code>th element</p>
<p>ğŸ¦€ if X is not specified, the slice begins at the start of the collection being sliced</p>
<p>ğŸ¦€ if Y is not specified, the slice ends at the end of the collection being sliced</p>
<p><img src="013-collections/slice-range.png" alt="slice-range.png"></p>
<p>When using slices, you donâ€™t need to specify their size, that information is encoded into the data at runtime, meaning you can work with slices of arbitrary size.</p>
<p>Bear in mind though that they are references, so you <em>may</em> need to use lifetimes to keep track, if you need a reminder of lifetimes (and even those of us well versed in Rust often need a reminder), I covered them in the functions video, linky in the corner.</p>
<p>In that video we discussed a function for splitting a <code>String</code> which returned two  â€œstring slice referencesâ€.</p>
<p>Thatâ€™s right, <code>str</code> is another, special, kind of slice.</p>
<p>ğŸ¦€ Hereâ€™s that code again, and hereâ€™s some things to note that will hopefully make a lot more sense after the last few chapters:</p>
<p><img src="013-collections/slice-split-fn.png" alt="slice-split-fn.png"></p>
<p>ğŸ¦€ <code>String</code> implements <code>Deref</code> targeting <code>str</code> so we can get a string slice just by referencing <code>String</code></p>
<p>ğŸ¦€ The lifetime <code>'a</code> (attached to <code>yuki</code>) enters <code>split()</code> through <code>input</code> and is tied to the return parameters <code>left</code> and <code>right</code>.</p>
<p>ğŸ¦€ The same range notation is used to create the slices as our previous examples</p>
<p>ğŸ¦€ In the â€œ<code>found_at</code>â€ branch, open ranges are used to capture the beginning and end for <code>left</code> and <code>right</code> respectively</p>
<p>ğŸ¦€ In the â€œ<code>else</code>â€ branch, the completely open range creates a slice the full length of the collection, while the slice that starts at <code>input.len()</code> is a zero length slice that starts before the element that <em>would</em> be after the final element and runs to the end.</p>
<p>ğŸ¦€ Hopefully code like this is starting to make a lot more sense!</p>
<h2 id="vectors"><a class="header" href="#vectors">Vectors</a></h2>
<p><code>Vec</code> (short for Vector) is similar to an array (and can be dereferenced as an array slice), but unlike array, <code>Vec</code> can grow in size.</p>
<p><code>Vec</code> is a generic type (<code>Vec&lt;T&gt;</code>) with no trait bound, meaning you use to store any type.</p>
<p>There are several ways to instantiate <code>Vec</code>s, and which way is best can vary depending on how youâ€™re going to use them.</p>
<p>The fact that <code>Vec</code>s are dynamically sized means they need to exist on the Heap, and so when instantiating a <code>Vec</code>, your program, under the hood, will request an amount of heap memory.</p>
<p>If your vector exceeds the amount of memory that is currently available to it, code inside the <code>Vec</code> type will automatically request a new, larger, portion of heap memory from the operating system, copy the current data into that new location, then free the memory it used to hold, all automatically without you needing to do anything.</p>
<p>This process however is expensive, and you should do what you can to avoid it.</p>
<p>So, with that in mind, you should try to start with a vector large enough to contain as much as you think is reasonable, using the <code>with_capacity</code> constructor.</p>
<p>This will construct an empty <code>Vec</code> with at least (but possibly not exactly) the capacity you requested.</p>
<p>ğŸ¦€ Note that capacity and length are not the same thing in Rust.</p>
<p>ğŸ¦€ You can get the number of items of data currently in the vector with <code>.len()</code> and its capacity with <code>.capacity()</code>.</p>
<p><img src="013-collections/vec-len-v-capacity.png" alt="vec-len-v-capacity.png"></p>
<p>ğŸ¦€ If youâ€™re not worried about the potential costs of resizing your vector, particularly if youâ€™re not going to resize it, and you already have some data that you want to instantiate, you should use the <code>vec!</code> macro as this can be optimised by the compiler.</p>
<p><img src="013-collections/vec-macro.png" alt="vec-macro.png"></p>
<p>ğŸ¦€ Usually youâ€™ll make Vectors mutable, and they provide a huge array (pun intended) of useful methods, but here are some of the basics.</p>
<p>ğŸ¦€ To add elements to the end of a vector we use the <code>.push(t: T)</code> method</p>
<p>ğŸ¦€ and to remove them from the end of the vector we use the <code>.pop()</code> method which returns an <code>Option&lt;T&gt;</code>, since the vector may be empty.</p>
<p>ğŸ¦€ Like arrays, you <em>can</em> index directly into a <code>Vec</code> <em>but</em>, just like arrays, you generally shouldnâ€™t.</p>
<p><img src="013-collections/vec-panic.png" alt="vec-panic.png"></p>
<p>ğŸ¦€ If you try to access an element out of bounds, your program will panic, an unlike sized arrays, thereâ€™s not even any protection against hard coded out-of-bounds indices.</p>
<p>ğŸ¦€ Again, using <code>.get()</code> and <code>.get_mut()</code> will return an <code>Option</code> containing either an immutable or mutable reference to an item inside the vector.</p>
<p><img src="013-collections/vec-get.png" alt="vec-get.png"></p>
<p>ğŸ¦€ This is much safer as the program will not halt if there is no item at the given index, youâ€™ll simply get a <code>None</code>.</p>
<p>ğŸ¦€ <code>.get()</code> and <code>.get_mut()</code> will also allow you to create an array slice if you give it a <code>Range</code> instead.</p>
<p><img src="013-collections/vec-get-range.png" alt="vec-get-range.png"></p>
<p>ğŸ¦€ Note the weird syntax as <code>get</code> returns an array slice, not an array</p>
<p>ğŸ¦€ You can even edit values inside the returned slice</p>
<p>ğŸ¦€ Be careful, this is actually element 2!</p>
<p>When you put a variable into a <code>Vec</code>, or any other collection, unless that variable is copy you are moving ownership into the collection.</p>
<p>Using methods like <code>get</code> will give you a reference to the data, but the only way to get ownership back is to either clone it (and take the potential memory and runtime hit), or to remove to use a method that removes the element from the collection, like <code>pop</code> in <code>Vec</code>.</p>
<p>Weâ€™ll discuss similar methods for other collections as we go.</p>
<h3 id="vecdequeue"><a class="header" href="#vecdequeue">VecDequeue</a></h3>
<p><code>VecDeque</code> is very similar to <code>Vec</code> however, where in <code>Vec</code> you can only add and remove items to and from the end of the collection, <code>VecDeque</code> also allows you to add and remove items to and from the front!</p>
<p>ğŸ¦€ You can create a <code>VecDeque</code> in much the same way as a <code>Vec</code>, though there isnâ€™t a macro.</p>
<p><img src="013-collections/vec-deque.png" alt="vec-deque.png"></p>
<p>ğŸ¦€ Instead, here weâ€™ll use the <code>From</code> trait to take a static array and turn it into a <code>VecDeque</code>.</p>
<p>ğŸ¦€ We can then push elements onto the back of a <code>VecDeque</code> with <code>push_back</code> or on to the front with, you probably guessed it, <code>push_front</code>.</p>
<p>ğŸ¦€ Similarly, we can remove elements from the front of a <code>VecDeque</code> with <code>pop_front</code>, or from the back using <code>pop_back</code>.</p>
<h3 id="linked-lists"><a class="header" href="#linked-lists">Linked Lists</a></h3>
<p>It is very rare to actually need a full <code>LinkedList</code>, and for performance reasons, you should try to avoid them where possible.</p>
<p><code>Vec</code> and <code>VecDeque</code> will almost always beat <code>LinkedList</code> in both speed and memory efficiency if all you want to do is add items to the end of a list (or, in the case of <code>VecDeque</code> to the front).</p>
<p>Where <code>LinkedList</code>s are useful though, is when splitting and merging your collection is a core feature you will be heavily reliant on.</p>
<p>ğŸ¦€ To demonstrate this, lets create a simple example by pushing items on to the end of a linked list.</p>
<p><img src="013-collections/linked-list.png" alt="linked-list.png"></p>
<p>ğŸ¦€ Iâ€™m intentionally skipping over 2 here</p>
<p>ğŸ¦€ In order to add 2 in at the logical position we can split the linked list before the 2nd element using <code>split_off(2)</code></p>
<p>ğŸ¦€ We can then append a new element onto the end of the left part of the list (in the original variable) and then re-append the right part of the list.</p>
<p>ğŸ¦€ You canâ€™t easily do this in other linear collections</p>
<h3 id="binaryheap"><a class="header" href="#binaryheap">BinaryHeap</a></h3>
<p><code>BinaryHeap</code>s allow you to add items to a heap in any order, but the first item off the heap is always the largest item according to its <code>Ord</code>.</p>
<p>ğŸ¦€ For example, lets add some chars to a <code>BinaryHeap</code></p>
<p><img src="013-collections/binary-heap.png" alt="binary-heap.png"></p>
<p>ğŸ¦€ When we pop them off the heap, they come out from largest to smallest.</p>
<p>ğŸ¦€ The obvious limitation here though is, what do you do if you need to know the smallest value in the stack?</p>
<p>ğŸ¦€ In the standard library thereâ€™s a cool little newtype that can wrap other types and inverts their ordering:</p>
<p><img src="013-collections/binary-heap-reverse.png" alt="binary-heap-reverse.png"></p>
<p>ğŸ¦€ The only slight downside is that the item will pop off the <code>BinaryHeap</code> still wrapped in the <code>Reverse</code> newtype</p>
<p>ğŸ¦€ Because the newtype is a tuple struct with a public field, you can access the data directly there</p>
<p>ğŸ¦€ Pattern matching will also allow you to extract the inner data</p>
<h2 id="hashmap"><a class="header" href="#hashmap">HashMap</a></h2>
<p>A <code>HashMap</code> is a key, value lookup table.</p>
<p>You store a value with a key and use the same key to look up the value you previously stored.</p>
<p>The value can be any type but the type you use for the key must implement the <code>Hash</code> trait, see our last video.</p>
<p>Hashing the key results in a <code>u64</code> that is used to create the lookup table.</p>
<p>Thereâ€™s more details on how hashing works in the official book, including how to create a <code>HashMap</code> with a different hashing algorithm, but thatâ€™s beyond the scope of <em>this</em> series.</p>
<p>ğŸ¦€ Similar to <code>Vec</code>s, <code>HashMap</code>s can be initialised in a few ways, the main three youâ€™re likely to use are:</p>
<p><img src="013-collections/hashmap-init.png" alt="hashmap-init.png"></p>
<p>ğŸ¦€ â€œnewâ€ which creates a hashmap with arbitrary capacity</p>
<p>ğŸ¦€ â€œwith_capacityâ€ which, like with other collections, can help minimise re-allocation</p>
<p>ğŸ¦€ or you can create a hashmap from a collection of tuples representing key-value pairs</p>
<p>ğŸ¦€ To access data youâ€™ve stored in your hashmap, thereâ€™s a few handy methods:</p>
<p>ğŸ¦€ <code>.get()</code> and <code>.get_mut()</code> work the same as with other collections but take a key instead of an index.</p>
<p><img src="013-collections/hashmap-get.png" alt="hashmap-get.png"></p>
<p>ğŸ¦€ As with other collections, using <code>get</code> will return an <code>Option</code> making it very safe to use</p>
<p>ğŸ¦€ And <code>get_mut</code> will allow us to modify data via a mutable reference</p>
<p>ğŸ¦€ The <code>.entry()</code> method returns a special <code>Entry</code> enum that allows you to modify a value if it exists</p>
<p><img src="013-collections/hashmap-entry.png" alt="hashmap-entry.png"></p>
<p>ğŸ¦€ or insert a value if it doesnâ€™t</p>
<p>ğŸ¦€ Pretty handy right!</p>
<p>ğŸ¦€ The <code>.remove</code> method takes a value out of the HashMap (if it exists)</p>
<p><img src="013-collections/hashmap-remove.png" alt="hashmap-remove.png"></p>
<p>ğŸ¦€ This is really handy because inserting values into collections, moves ownership into them, and <code>remove</code> allows you to move ownership out again</p>
<p>ğŸ¦€ Similarly <code>.remove_entry()</code> can be used to gain ownership of both the value <em>and</em> the key as you remove them from the map</p>
<p><img src="013-collections/hashmap-remove-entry.png" alt="hashmap-remove-entry.png"></p>
<h2 id="btreemap"><a class="header" href="#btreemap">BTreeMap</a></h2>
<p><code>BTreeMap</code> is a Binary Search Tree version of <code>HashMap</code>.</p>
<p>Now, for storing arbitrary data itâ€™s a touch slower than <code>HashMap</code>, but it internally sorts keys so that you can easily get the values at the largest and smallest keys, a little bit like a <code>VecDeque</code>:</p>
<p>ğŸ¦€ Letâ€™s say we have BTreeMap with some keys and values.</p>
<p><img src="013-collections/btreemap.png" alt="btreemap.png"></p>
<p>ğŸ¦€ You can see Iâ€™ve intentionally got the keys out of order here</p>
<p>ğŸ¦€ We can get references to the first or last key/values according to the Ord of the key type</p>
<p>ğŸ¦€ We can also get Entry enums this way</p>
<p>ğŸ¦€ Finally we can pop both the key and value from either the front or back of the BTreeMap, much like a <code>VecDeque</code>, but sorted!</p>
<h2 id="sets"><a class="header" href="#sets">Sets</a></h2>
<p>ğŸ¦€ There are two Set types in Rust that allow you to store values with no duplicates, <code>HashSet</code> and <code>BTreeSet</code>.</p>
<p><img src="013-collections/set-hashset.png" alt="set-hashset.png">
<img src="013-collections/set-btreeset.png" alt="set-btreeset.png"></p>
<p>ğŸ¦€ These are implemented using <code>HashMap&lt;K, ()&gt;</code> and <code>BTreeMap&lt;K, ()&gt;</code>, though they â€œfixâ€ some of the issues you might run in to if you were to naively do this yourself.</p>
<p>ğŸ¦€ For example, <code>.insert(T)</code> only takes a single value, and methods like <code>.get(K)</code> return an Option with only one value.</p>
<p>ğŸ¦€ The differences between <code>HashSet</code> and <code>BTreeSet</code> are the same as between <code>HashMap</code> and <code>BTreeMap</code>, including <code>BTreeSet</code> allowing easy access to the â€œfirstâ€ and â€œlastâ€.</p>
<p>ğŸ¦€ Furthermore, when you turn <code>BTreeSet</code> into an Iterator, it will be in order!</p>
<p>ğŸ¦€ Weâ€™ll talk more about Iterators</p>
<h2 id="next-time"><a class="header" href="#next-time">Next Time</a></h2>
<p>Haha, silly transitions! Yeah, next time, Iterators.</p>
<p>So fun fact, Iterators are the last core synchronous language feature weâ€™ll discuss in this series.</p>
<p>Once youâ€™ve got your head around them, youâ€™re going to be in a great place to build all kinds of apps.</p>
<p>After that weâ€™ll be covering threads, async, macro rules and unsafe rust.</p>
<p>Donâ€™t worry, though thereâ€™s plenty of things I want to cover on this channel after we move on from IRISS.</p>
<p>In the meantime, Iâ€™d like to thank my Patreons, youâ€™re support means an incredible amount to me.</p>
<p>If you enjoyed the video, donâ€™t forget to like and subscribe.</p>
<p>And Iâ€™ll see youâ€¦</p>
<hr>
<p>Wait! Before you go I want to talk about a â€œmistakeâ€ in the HashMap section</p>
<p>I noticed this while writing the script but wanted to leave it in, and talk about it at the end of the video.</p>
<p>ğŸ¦€ When showing the code for <code>get</code>, did you spot thisâ€¦</p>
<p><img src="013-collections/hashmap-get.png" alt="hashmap-get.png"></p>
<p>ğŸ¦€ See the hashmap key type is a String <em>but</em> Iâ€™ve accidentally used a string slice as the parameter in <code>get</code>.</p>
<p>ğŸ¦€ This code works thoughâ€¦ how?</p>
<p>ğŸ“• Well, if we check the documentation, we can see that <code>get</code> does not take the same generic type as the <code>Key</code>, <code>K</code>, but a different generic <code>Q</code></p>
<p><img src="013-collections/hashmap-get-docs.png" alt="hashmap-get-docs.png"></p>
<p>ğŸ“• <code>Q</code> is any type that <code>K</code> implements <code>Borrow</code> for (and is Hash, Eq and may or may not be sized), which feels very backwards but makes sense.</p>
<p>ğŸ“• String, our key type, implements Borrow string slice, so we can use string slices in the get method.</p>
<p>ğŸ“• Using the actual <code>Key</code> type, <code>K</code>, or <code>String</code> in this case, will always work too because all types implement <code>Borrow</code> for themselves</p>
<p>Ok, thanks for putting up with another one of my little digressions.</p>
<p>Now Iâ€™ll see you next time.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../iriss/012-common-traits-part-2.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="../iriss/014-iterators.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../iriss/012-common-traits-part-2.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="../iriss/014-iterators.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr-ef4e11c1.min.js"></script>
        <script src="../mark-09e88c2c.min.js"></script>
        <script src="../searcher-c2a407aa.js"></script>

        <script src="../clipboard-1626706a.min.js"></script>
        <script src="../highlight-abc7f01d.js"></script>
        <script src="../book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->



    </div>
    </body>
</html>
